import{r as t,u as y,j as e}from"./index-BITXxDgh.js";import{a as j,b as v}from"./constants-DjoNNNWI.js";function L(){const[l,g]=t.useState(""),[i,p]=t.useState(""),[r,h]=t.useState(!1),[o,c]=t.useState(!1),[d,m]=t.useState(""),b=y(),w=async s=>{var u,x;s.preventDefault(),m(""),c(!0);try{const a=(await j.post(`${v}/login`,{email:l,password:i})).data;a.status&&(localStorage.setItem("token",a.data.token),localStorage.setItem("user",a.data.user),localStorage.setItem("isLoggedIn",!0),alert(a.message),b("/products"))}catch(n){m(((x=(u=n.response)==null?void 0:u.data)==null?void 0:x.message)||"Login failed. Please check your credentials and try again."),console.error("Login error:",n)}finally{c(!1)}},f=()=>{h(!r)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md rounded-3xl p-8 sm:p-10 bg-gray-50 sm:bg-white shadow-none sm:shadow-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter your details to sign in"})]}),d&&e.jsx("div",{className:"mb-4 bg-red-50 text-red-700 p-3 rounded-lg text-sm",children:d}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:s=>g(s.target.value),placeholder:"Enter your email",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-lg font-medium mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:s=>p(s.target.value),placeholder:"Enter your password",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:f,className:"absolute inset-y-0 right-0 flex items-center pr-4",children:r?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-400",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-400",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black transition duration-200",children:[o?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,o?"Signing in...":"Login"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})})}export{L as default};
